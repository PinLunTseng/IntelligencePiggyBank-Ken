<!DOCTYPE html>
<html style="font-size: 16px;" lang="en">

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <meta name="keywords" content="">
    <meta name="description" content="">
    <title>投資組合</title>
    <link rel="stylesheet" href="/static/portfolio/nicepage.css" media="screen">
    <link rel="stylesheet" href="/static/portfolio/About.css" media="screen">
    <script class="u-script" type="text/javascript" src="/static/portfolio/jquery.js" defer=""></script>
    <script class="u-script" type="text/javascript" src="/static/portfolio/nicepage.js" defer=""></script>
    <meta name="generator" content="Nicepage 4.21.12, nicepage.com">
    <link id="u-theme-google-font" rel="stylesheet"
        href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i|Open+Sans:300,300i,400,400i,500,500i,600,600i,700,700i,800,800i">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
    <script src="jquery-3.6.1.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
    <script src="https://code.highcharts.com/stock/highstock.js"></script>
    <script src="https://code.highcharts.com/stock/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/stock/modules/accessibility.js"></script>

    <script type="application/ld+json">{
        "@context": "http://schema.org",
        "@type": "Organization",
        "name": "",
        "logo": "images/logo_pig.png"
    }</script>
    <meta name="theme-color" content="#478ac9">
    <meta property="og:title" content="About">
    <meta property="og:type" content="website">
    <script>
        .u-section-1 {
    background-image: linear-gradient(60deg, #fef9e6, #f5f7fa);
  }

  .u-section-1 .u-sheet-1 {
    min-height: 819px;
  }

  .u-section-1 .u-text-1 {
    font-size: 2.75rem;
    margin: 48px auto 0;
  }

  .u-section-1 .u-group-1 {
    min-height: 563px;
    width: fit-content;
    height: auto;
    margin: 32px auto 60px;
  }



    .u-image-1 {
        width: 95px;
        height: 95px;
        margin:-50px 55px 0 auto;
    }

  .u-section-1 .u-container-layout-1 {
    padding: 30px;
  }

  .u-section-1 .u-form-1 {
    height: 349px;
    width: 533px;
    margin: 22px 0 0;
  }

  .u-section-1 .u-btn-1 {
    border-style: solid;
    letter-spacing: 0px;
    background-image: none;
    width: 100%;
    font-size: 1.25rem;
    font-weight: 400;
    text-transform: none;
  }

  .u-section-1 .u-text-2 {
    margin: 22px auto 0 32px;
  }

  .u-section-1 .u-btn-2 {
    background-image: none;
    padding: 0;
  }

  @media (max-width: 1199px) {
    .u-section-1 .u-group-1 {
      height: auto;
    }
  }

  @media (max-width: 767px) {
    .u-section-1 .u-group-1 {
      width: 540px;
    }

    .u-section-1 .u-form-1 {
      width: 520px;
    }
  }

  @media (max-width: 575px) {
    .u-section-1 .u-text-1 {
      font-size: 1.875rem;
    }

    .u-section-1 .u-group-1 {
      width: 340px;
    }

    .u-section-1 .u-form-1 {
      margin-top: 217px;
      width: 320px;
    }
  }
    </script>
</head>

<body class="u-body u-xl-mode" data-lang="en">
    <header class="u-box-shadow u-clearfix u-header u-sticky u-sticky-4220 u-white u-header" id="sec-f997"
        data-animation-name="" data-animation-duration="0" data-animation-delay="0" data-animation-direction="">
        <div class="u-clearfix u-sheet u-sheet-1">
            <a href="/portfolio/home" class="u-image u-logo u-image-1" data-image-width="1920" data-image-height="1080"
                title="Home">
                <img src="/static/portfolio/images/logo_pig.png" class="u-logo-image u-logo-image-1">
            </a>
            <nav class="u-menu u-menu-one-level u-offcanvas u-menu-1">
                <div class="menu-collapse" style="font-size: 1rem; letter-spacing: 0px;">
                    <a class="u-button-style u-custom-left-right-menu-spacing u-custom-padding-bottom u-custom-top-bottom-menu-spacing u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base"
                        href="#">
                        <svg class="u-svg-link" viewBox="0 0 24 24">
                            <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#menu-hamburger"></use>
                        </svg>
                        <svg class="u-svg-content" version="1.1" id="menu-hamburger" viewBox="0 0 16 16" x="0px" y="0px"
                            xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg">
                            <g>
                                <rect y="1" width="16" height="2"></rect>
                                <rect y="7" width="16" height="2"></rect>
                                <rect y="13" width="16" height="2"></rect>
                            </g>
                        </svg>
                    </a>
                </div>
                <div class="u-custom-menu u-nav-container">
                    <ul class="u-nav u-unstyled u-nav-1">
                        <li class="u-nav-item"><a
                                class="u-button-style u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base"
                                href="/portfolio/about" style="padding: 26px 20px;">關於我們</a>
                        </li>
                        <li class="u-nav-item"><a
                                class="u-button-style u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base"
                                href="/portfolio/questionnaire" style="padding: 26px 20px;">問卷試算</a>
                            <div class="u-nav-popup">
                                <ul class="u-h-spacing-20 u-nav u-unstyled u-v-spacing-10">
                                    <li class="u-nav-item"><a class="u-button-style u-nav-link u-white"
                                            href="#">SingIn</a>
                                    </li>
                                </ul>
                            </div>
                        </li>
                        <li class="u-nav-item"><a
                                class="u-button-style u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base"
                                href="/portfolio/calculation" style="padding: 26px 20px;">試算</a>
                        </li>
                        <li class="u-nav-item"><a
                                class="u-button-style u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base"
                                href="/portfolio/signUp" style="padding: 26px 20px;">註冊</a>
                        </li>
                        <li class="u-nav-item"><a
                                class="u-button-style u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base"
                                href="/portfolio/signIn" style="padding: 26px 20px;">登入</a>
                        </li>
                        <li class="u-nav-item"><a
                                class="u-button-style u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base"
                                href="/portfolio/signOut" style="padding: 26px 20px;">登出</a>
                        </li>
                    </ul>
                </div>
                <div class="u-custom-menu u-nav-container-collapse">
                    <div class="u-black u-container-style u-inner-container-layout u-opacity u-opacity-95 u-sidenav">
                        <div class="u-inner-container-layout u-sidenav-overflow">
                            <div class="u-menu-close"></div>
                            <ul class="u-align-center u-nav u-popupmenu-items u-unstyled u-nav-3">
                                <li class="u-nav-item"><a class="u-button-style u-nav-link"
                                        href="/portfolio/about">關於我們</a></li>
                                <li class="u-nav-item"><a class="u-button-style u-nav-link"
                                        href="/portfolio/questionnaire">問卷試算</a></li>
                                <li class="u-nav-item"><a class="u-button-style u-nav-link"
                                        href="/portfolio/calculation">試算</a></li>
                                <li class="u-nav-item"><a class="u-button-style u-nav-link"
                                        href="/portfolio/signUp">註冊</a></li>
                                <li class="u-nav-item"><a class="u-button-style u-nav-link"
                                        href="/portfolio/signIn">登入</a></li>
                                <li class="u-nav-item"><a class="u-button-style u-nav-link"
                                        href="/portfolio/signOut">登出</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="u-black u-menu-overlay u-opacity u-opacity-70"></div>
                </div>
            </nav>
        </div>
    </header>

    <section class="u-clearfix u-section-1" id="sec-c439">
        <div class="u-clearfix u-sheet u-sheet-1">
            <div class="u-expanded-width u-list u-list-1">
                <h1>{{model_name}}</h1>
    
                <div class="Potofolio">
                    <figure class="highcharts-figure">
                        <article id="Potofolio"></article>
                    </figure>
                </div>

        <script>
        var result = [
                {% for x, y in top_10_weight_and_name %}
                    ['{{x}}', {{y}}],
                {% endfor %}
        ]
        Highcharts.chart('Potofolio', {
          chart: {
            plotBackgroundColor: null,
            plotBorderWidth: null,
            plotShadow: false,
            type: 'pie'
          },
          title: {
            text: '投資標的之權重'
          },
          tooltip: {
            pointFormat: '{series.name}: <b>{point.percentage:.2f}%</b>'
          },
          accessibility: {
            point: {
              valueSuffix: '%'
            }
          },
          plotOptions: {
            pie: {
              allowPointSelect: true,
              cursor: 'pointer',
              dataLabels: {
                enabled: false
              },
              showInLegend: true
            }
          },
          series: [{
            name: '權重',
            colorByPoint: true,
            data: [{
              name: result[0][0],
              y: result[0][1],
              // sliced: true,
              // selected: true
            }, {
              name: result[1][0],
              y: result[1][1]
            }, {
              name: result[2][0],
              y: result[2][1]
            }, {
              name: result[3][0],
              y: result[3][1]
            }, {
              name: result[4][0],
              y: result[4][1]
            }, {
              name: result[5][0],
              y: result[5][1]
            }, {
              name: result[6][0],
              y: result[6][1]
            }, {
              name: result[7][0],
              y: result[7][1]
            }, {
              name: result[8][0],
              y: result[8][1]
            }, {
              name: result[9][0],
              y: result[9][1]
            }, {
              name: result[10][0],
              y: result[10][1]
            }
            ]
          }]
        });

        </script>
        


        <div id="AnnvalAssetReturns" class="w3-container city">

            <div class="AnnvalAssetReturns">

                <figure class="highcharts-figure">
                    <article id="AnnvalAssetReturns"></article>
                </figure>
            </div>
        </div>

        <script>
            Highcharts.stockChart('AnnvalAssetReturns', {
                rangeSelector: {
                    enabled: false
                },            
    
                title: {
                    text: '年度資產回報'
                },
                xAxis: {
                    categories: [
                        {% for period in periods %}
                        '{{period}}',
                        {% endfor %}
                    ],
                },
                yAxis: {
                    title: {
                        text: 'Annual Return'
                    }
                },
                series: [{
                    name: 'Provided Portfolio',
                    data: [
                        {% for amount in amount_response %}
                        {{ amount }},
                        {% endfor %}
                    ]
                }]
            });
    
        </script>


        <div id="monthROI" class="w3-container city">

            <div class="ROI">

                <figure class="highcharts-figure">
                    <article id="monthROI"></article>
                </figure>
            </div>

        </div>


        <script>
            Highcharts.stockChart('monthROI', {
                title: {
                    text: "月度投資報酬率",
                },
                color: '#0088FF',
                negativeColor: '#FF0000',
                rangeSelector: {
                    enabled: false
                },
                tooltip: {
                    valueDecimals: 2,
                    valueSuffix: '%'
                  },

                xAxis: [{
                    categories: [
                        {% for period in periods%}
                        '{{period}}',
                        {% endfor %}    
                    ],
                    reversed: false,
                    labels: {
                        step: 1
                    }
                }],
                "series": [{
                    name: "報酬率",
                    data: [
                    {% for k, v in roi.items%}
                    {{v}},
                    {% endfor %}
                ],
                    color: '#0088FF',
                    negativeColor: '#FF0000',
                    "type": "column",
                    "showInLegend": false
                }],
            });
    
        </script>


        <div id="allROI" class="w3-container city">

            <div class="ROI">

                <figure class="highcharts-figure">
                    <article id="allROI"></article>
                </figure>
            </div>

        </div>


        <script>
            Highcharts.stockChart('allROI', {
                title: {
                    text: "總投資報酬率",
                },
                color: '#0088FF',
                negativeColor: '#FF0000',
                rangeSelector: {
                    enabled: false
                },
            
                xAxis: {
                    categories: [
                        {% for period in periods%}
                    '   {{period}}',
                        {% endfor %}    
                    ]
                },
                yAxis: {
                    title: {
                        text: "報酬率"
                    },
                    plotLines: [{
                        value: 0,
                        zIndex: 5,
                        width: 1,
                        color: '#606060'
                    }]
                },
                tooltip: {
                    valueDecimals: 2,
                    valueSuffix: '%'
                  },
    
                series: [{
                    name: "報酬率",
                    data: [
                        {% for k, v in roi.items%}
                        {{v}},
                        {% endfor %}
                ],
                    color: '#0088FF',
                    negativeColor: '#FF0000',
                }]
            });
    
        </script>


        <div class="portfolioOrderByIndusrty">
            <figure class="highcharts-figure">
                <article id="portfolioOrderByIndusrty"></article>
            </figure>
        </div>

        <script>
            var result = [
            {% for x, y in pie_chart_order_by_industry %}
                ['{{x}}', {{y}}],
            {% endfor %}
            ]

            Highcharts.chart('portfolioOrderByIndusrty', {
                chart: {
                plotBackgroundColor: null,
                plotBorderWidth: null,
                plotShadow: false,
                type: 'pie'
                },
                title: {
                    text: '投資標的權重-依產業劃分'
                },
                tooltip: {
                    pointFormat: '{series.name}: <b>{point.percentage:.2f}%</b>'
                },
                accessibility: {
                    point: {
                        valueSuffix: '%'
                    }
                },
                plotOptions: {
                    pie: {
                        allowPointSelect: true,
                        cursor: 'pointer',
                        dataLabels: {
                            enabled: false
                        },
                        showInLegend: true
                    }
                },
                series: [{
                    name: '權重',
                    colorByPoint: true,
                    data: [{
                        name: result[0][0],
                        y: result[0][1],
                        // sliced: true,
                        // selected: true
                    }, {
                        name: result[1][0],
                        y: result[1][1]
                    }, {
                        name: result[2][0],
                        y: result[2][1]
                    }, {
                        name: result[3][0],
                        y: result[3][1]
                    }, {
                        name: result[4][0],
                        y: result[4][1]
                    }, {
                        name: result[5][0],
                        y: result[5][1]
                    }, {
                        name: result[6][0],
                        y: result[6][1]
                    }, {
                        name: result[7][0],
                        y: result[7][1]
                    }, {
                        name: result[8][0],
                        y: result[8][1]
                    }, {
                        name: result[9][0],
                        y: result[9][1]
                    }, {
                        name: result[10][0],
                        y: result[10][1]
                    }
                    ]
                }]
            });

        </script>



        <div>

            <table  style="width:100%">
              <tr>
                <th>公司名稱</th>
                <th>權重</th>
                <th>推薦分數</th>
              </tr>
            
              {% for data in port_list %}               
                <tr>
                  <td>{{data.0}}</td>
                  <td>{{data.1}}</td>
                  <td>{{data.2}} </td>
                </tr>
                <tr>
                  <td colspan="3">
                    <div class="show">
                      <hr>
                      <p>行業類別: {{data.3}}</p>
                      <p>簡介: {{data.4}}
                        <a href="/portfolio/information/{{data.7}}" target="_blank">see more</a>
                      </p>                  
                      <a href="{{data.5}}" target="_blank" class="u-border-2 u-border-hover-palette-1-base u-border-palette-1-base u-btn u-btn-round u-button-style u-hover-palette-1-base u-none u-radius-50 u-btn-1">官方網站</a>
                      <a href="{{data.6}}" target="_blank" class="u-border-2 u-border-hover-palette-1-base u-border-palette-1-base u-btn u-btn-round u-button-style u-hover-palette-1-base u-none u-radius-50 u-btn-1">股票資訊</a>
                      <hr>
                    </div>
                  </td>
                </tr>
                
              {% endfor %}

            </table>
            <p>*我們使用Yahoo！Finance 分數評價來推薦我們的用戶適合購買的股票。1表示非常建議購買，5表示適合賣出。</p>

            <style>
                .button:hover .hover{
                  display:block;
                }
                .button {
                  text-align: left;
                }
                .hover{
                  display:none;
                  style="text-align: justify;"
                }
                td.hover {
                  display: none;
                }
                tr.hover {
                  display: none;
                }
                div.show {
                  display: none;
                }
                {% comment %} tr:hover div.show td.show2 {
                  display: block;
                } {% endcomment %}
                td:hover div.show {
                  display: block;
                }

            </style>
        </div>
    </section>

    
    <footer class="u-align-center u-clearfix u-footer u-grey-80 u-footer" id="sec-3e64">
        <div class="u-clearfix u-sheet u-valign-middle u-sheet-1">
            <p class="u-small-text u-text u-text-variant u-text-1">台北商業大學 資訊管理系 11404組</p>
        </div>
    </footer>

    <script>
        document.querySelectorAll('nav a')
        .forEach(e => e.addEventListener('click', _ => change(e.dataset.id)))
  
  
        function change(n) {
        let panels = document.querySelectorAll('main div')
        panels.forEach(p => p.classList.remove('active'))
        panels[n - 1].classList.add('active')
        }
    </script>

</body>

</html>